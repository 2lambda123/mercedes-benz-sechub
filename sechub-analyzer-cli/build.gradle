// SPDX-License-Identifier: MIT
 /*============================================================================
 * Build file for subproject 
 *
 * Root build file: "${rootProject.projectDir}/build.gradle"
 * ============================================================================
 */
dependencies {
	compile library.apache_commons_cli
	compile library.slf4j
	
	// https://mvnrepository.com/artifact/com.fasterxml.jackson.jr/jackson-jr-all
	compile group: 'com.fasterxml.jackson.jr', name: 'jackson-jr-all', version: '2.11.0'
	
	// https://mvnrepository.com/artifact/ch.qos.logback/logback-classic
	compile group: 'ch.qos.logback', name: 'logback-classic', version: '1.2.3'
	
	/*
	 * RE2 is a regular expression engine that runs in time linear in the size of the input.
	 *
	 * RE2 is the default RegularExpression engine of Go
	 * 
	 * Link: https://github.com/google/re2j
	 */
	// https://mvnrepository.com/artifact/com.google.re2j/re2j
	compile group: 'com.google.re2j', name: 're2j', version: '1.4'
	
	testCompile library.junit
    testCompile library.harmcrest
}

task buildAnalyzerCLI(type: Jar) {
    group 'sechub'
    description 'Builds the SecHub Analyzer CLI tool.'
    baseName = 'analyzer'
    
	manifest {
        attributes 'Main-Class': 'com.daimler.sechub.analyzer.cli.SechubAnalyzerApplication'
    }

    from { 
    	configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } 
    }

    with jar
}